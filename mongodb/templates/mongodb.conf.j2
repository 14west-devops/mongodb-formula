{% from "mongodb/map.jinja" import mongodb with context %}

{# Bind to all ips(default) if in clustered mode,
   otherwise only to the specified local ip.
#}

dbpath = {{ mongodb.dbpath }}
logpath =  {{ mongodb.logpath }}
logappend = true

port = {{ mongodb.port }}

# Enable journaling, http://www.mongodb.org/display/DOCS/Journaling
{% if mongodb.enable_journal %}
journal = true
{% else %}
journal = false
nojournal = true
{% endif %}

keyFile = {{ mongodb.cluster_key_file }}
replSet = {{ salt['pillar.get']('mongodb:replset_name', 'rs0') }}
