{% set mongodb = salt['grains.filter_by']({
    'default': {
        'pkg': 'mongodb',
        'service': 'mongodb',
        'conf_file': '/etc/mongodb/mongodb.conf',
        'config': {
            'key': 'value',
        },
    },
    'Debian': {
        'mongo_repository': 'deb http://repo.mongodb.org/apt/debian jessie/mongodb-org/3.3 main',
        'mongo_key': 'EA312927',
        'mongo_keyserver': 'keyserver.ubuntu.com',
        'pkgs': [
            'mongodb-org'
        ]
    },
    'RedHat': {
    },
}, grain='os_family', merge=salt['pillar.get']('mongodb:lookup'), base='default') %}
